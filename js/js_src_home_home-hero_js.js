/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkartemis2021"] = self["webpackChunkartemis2021"] || []).push([["js_src_home_home-hero_js"],{

/***/ "./js/src/home/home-hero.js":
/*!**********************************!*\
  !*** ./js/src/home/home-hero.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"homeHero\": () => (/* binding */ homeHero)\n/* harmony export */ });\n/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ \"./node_modules/pixi.js/dist/esm/pixi.js\");\n/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! gsap */ \"./node_modules/gsap/index.js\");\n/* harmony import */ var gsap_PixiPlugin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! gsap/PixiPlugin */ \"./node_modules/gsap/PixiPlugin.js\");\n\n\n\n\n\nfunction homeHero() {\n  gsap_PixiPlugin__WEBPACK_IMPORTED_MODULE_1__.PixiPlugin.registerPIXI(pixi_js__WEBPACK_IMPORTED_MODULE_0__);\n  // Format title \n  const homeTitle = document.querySelector('.home-hero-headline');\n  let homeTitlepadding = window.innerHeight/2 - homeTitle.clientHeight/2;\n  let homeTitleSize = homeTitle.clientHeight;\n  let homeTitleText = homeTitle.innerHTML + \" \";\n  //repear the words\n  homeTitle.innerHTML = homeTitleText + homeTitleText;\n  let homeTitleTextOrigWidth = homeTitle.clientWidth;\n  homeTitle.style.paddingTop = homeTitlepadding - homeTitleSize/4 + 'px';\n  homeTitle.style.paddingBottom = homeTitlepadding + homeTitleSize/4 + 'px';\n  // text ticker animation\n  gsap__WEBPACK_IMPORTED_MODULE_2__.gsap.to (homeTitle,  {\n    x: -homeTitleTextOrigWidth/2,\n    duration: 14,\n    repeat: -1,\n    ease: 'none'\n  })\n  \n  // Setup PIXI scene for background animated shape:\n  let Application = pixi_js__WEBPACK_IMPORTED_MODULE_0__.Application,\n      Sprite = pixi_js__WEBPACK_IMPORTED_MODULE_0__.Sprite;\n\n  let app = new Application({\n    width: window.innerWidth,\n    height: window.innerHeight,\n    backgroundAlpha: 1,\n  })\n  \n  let loader = app.loader,\n      resources = loader.resources;\n  \n  app.renderer = pixi_js__WEBPACK_IMPORTED_MODULE_0__.autoDetectRenderer({antialias: true, backgroundColor: 0xFFFFFF });\n  app.renderer.view.style.position = \"absolute\";\n  app.renderer.view.style.display = \"block\";\n  app.renderer.view.style.transformOrigin = \"50% 50%\";\n  app.renderer.view.style.transform = \"scale(0)\";\n  app.renderer.view.className = \"home-canvas\";\n  app.renderer.autoResize = true;\n  app.renderer.resize(window.innerWidth, window.innerHeight);\n\n  // Get the video from the_content, hide it and load it into PIXI canvas\n  let video = document.createElement(\"video\");\n  video.style.display = \"none\";\n  video.crossOrigin = \"anonymous\";  \n  video.preload = \"auto\";\n  video.loop = true;\n  video.autoplay = true;  \n  video.muted = true;  \n  video.playsInline = true;  \n  video.src = \"./wp-content/themes/artemis2021/assets/testvideo.mp4\";\n  \n  // let sprite;\n  let roundBox;\n  \n  loader\n  .load(setup);\n    // .add(video.src)\n  \n  \n  function setup(){\n\n    let margins = 16;\n    let centerX = window.innerWidth * 0.5;\n    let centerY = window.innerHeight * 0.45;\n    \n    let container = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Container();\n    container.pivot.x = centerX;\n    container.pivot.y = centerY;\n    container.x = centerX + 7;\n    container.y = centerY + 7;\n    app.stage.addChild(container);\n\n    let videobg = new Sprite(\n      pixi_js__WEBPACK_IMPORTED_MODULE_0__.Texture.from(video)\n    );\n    videobg.width = window.innerWidth + margins * 2;\n    videobg.height = window.innerHeight * .9 + margins * 2 ;\n    videobg.anchor.set(0.5, 0.5);\n    videobg.position.set(centerX, centerY);\n    container.addChild(videobg);\n\n    roundBox = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Graphics();    \n    let roundBoxW = window.innerWidth - margins * 2;\n    let roundBoxH = window.innerHeight * .9 - margins;\n    roundBox.lineStyle( { width: 20, join: pixi_js__WEBPACK_IMPORTED_MODULE_0__.LINE_JOIN.ROUND } );\n    roundBox.beginFill(0x000000);\n    let origPolyPoints = [\n      { x: margins, y: margins },\n      { x: roundBoxW, y: margins },\n      { x: roundBoxW, y: roundBoxH },\n      { x: margins, y: roundBoxH }\n    ];\n    roundBox.drawPolygon(origPolyPoints);\n    roundBox.endFill();\n    roundBox.pivot.x = centerX;\n    roundBox.pivot.y = centerY;\n    roundBox.x = centerX;\n    roundBox.y = centerY;\n\n    videobg.mask = roundBox;\n    \n    container.addChild(roundBox);\n\n    const newPolyPoints = origPolyPoints.map(obj => ({...obj}));\n    let scrollTop = 0;\n    document.body.addEventListener( 'scroll', () => {\n      scrollTop = window.scrollY;\n    })\n    document.body.addEventListener( 'mousemove', (e) => {\n      let mouseX = e.clientX;\n      let mouseY = e.clientY;\n      //mouse in in upper left corner\n      if ( mouseX <= centerX && mouseY <= centerY ) {\n        gsap__WEBPACK_IMPORTED_MODULE_2__.gsap.to(newPolyPoints[2], {\n          x: () => origPolyPoints[2].x - (roundBoxW - mouseX) * 0.4,\n          y: () => origPolyPoints[2].y - (roundBoxH - mouseY) * 0.36,\n          ease: \"power2.out\",\n          duration: 1,\n          overwrite: true\n        })\n        gsap__WEBPACK_IMPORTED_MODULE_2__.gsap.to( videobg, {\n          x: centerX + margins,\n          y: centerY + margins,\n          duration: 1\n        } )\n      } else {\n        gsap__WEBPACK_IMPORTED_MODULE_2__.gsap.to( newPolyPoints[2], {\n          x: origPolyPoints[2].x,\n          y: origPolyPoints[2].y,\n          duration: 1,\n        } )\n      }\n      //mouse in in upper right corner\n      if ( mouseX > centerX && mouseY <= centerY ) {\n        gsap__WEBPACK_IMPORTED_MODULE_2__.gsap.to(newPolyPoints[3], {\n          x: () => origPolyPoints[3].x + mouseX * 0.4,\n          y: () => origPolyPoints[3].y - (roundBoxH - mouseY) * 0.36,\n          ease: \"power2.out\",\n          overwrite: true,\n          duration: 1\n        })\n        gsap__WEBPACK_IMPORTED_MODULE_2__.gsap.to( videobg, {\n          x: centerX - margins,\n          y: centerY + margins,\n          duration: 1\n        } )\n      } else {\n        gsap__WEBPACK_IMPORTED_MODULE_2__.gsap.to( newPolyPoints[3], {\n          x: origPolyPoints[3].x,\n          y: origPolyPoints[3].y,\n          duration: 1,\n        } )\n      }\n      //mouse in in lower right corner\n      if ( mouseX > centerX && mouseY > centerY ) {\n        gsap__WEBPACK_IMPORTED_MODULE_2__.gsap.to(newPolyPoints[0], {\n          x: () => origPolyPoints[0].x +  mouseX * 0.4,\n          y: () => origPolyPoints[0].y + mouseY * 0.36,\n          ease: \"power2.out\",\n          overwrite: true\n        })\n        gsap__WEBPACK_IMPORTED_MODULE_2__.gsap.to( videobg, {\n          x: centerX - margins,\n          y: centerY - margins,\n          duration: 1\n        } )\n      } else {\n        gsap__WEBPACK_IMPORTED_MODULE_2__.gsap.to( newPolyPoints[0], {\n          x: origPolyPoints[0].x,\n          y: origPolyPoints[0].y,\n          duration: 1,\n        } )\n      }\n      //mouse in in lower left corner\n      if ( mouseX <= centerX && mouseY > centerY ) {\n        gsap__WEBPACK_IMPORTED_MODULE_2__.gsap.to(newPolyPoints[1], {\n          x: () => origPolyPoints[1].x  - (roundBoxW - mouseX) * 0.4,\n          y: () => origPolyPoints[1].y + mouseY * 0.36,\n          ease: \"power2.out\",\n          overwrite: true,\n          duration: 1\n        })\n        gsap__WEBPACK_IMPORTED_MODULE_2__.gsap.to( videobg, {\n          x: centerX + margins,\n          y: centerY - margins,\n          duration: 1\n        } )\n      } else {\n        gsap__WEBPACK_IMPORTED_MODULE_2__.gsap.to( newPolyPoints[1], {\n          x: origPolyPoints[1].x,\n          y: origPolyPoints[1].y,\n          duration: 1,\n        } )\n      }\n    })\n\n    function drawAnimatePolygon(){\n      roundBox.clear();\n      roundBox.beginFill(0x000000);\n      roundBox.lineStyle( { width: 20, join: pixi_js__WEBPACK_IMPORTED_MODULE_0__.LINE_JOIN.ROUND } );\n      roundBox.drawPolygon(newPolyPoints);\n      roundBox.endFill();\n    }\n    gsap__WEBPACK_IMPORTED_MODULE_2__.gsap.ticker.add(drawAnimatePolygon);\n\n    // RESIZE\n    window.addEventListener('resize', () => {\n      app.renderer.resize(window.innerWidth, window.innerHeight);\n      centerX = window.innerWidth * 0.5;\n      centerY = window.innerHeight * 0.45;\n      container.pivot.x = centerX;\n      container.pivot.y = centerY;\n      container.x = centerX + 7;\n      container.y = centerY + 7;\n      videobg.width = window.innerWidth + margins * 2;\n      videobg.height = window.innerHeight * .9 + margins * 2 ;\n      videobg.anchor.set(0.5, 0.5);\n      videobg.position.set(centerX, centerY);\n      roundBoxW = window.innerWidth - margins * 2;\n      roundBoxH = window.innerHeight * .9 - margins;\n      origPolyPoints = [\n        { x: margins, y: margins },\n        { x: roundBoxW, y: margins },\n        { x: roundBoxW, y: roundBoxH },\n        { x: margins, y: roundBoxH }\n      ];\n      \n      newPolyPoints.forEach( (elem, index) => {\n        gsap__WEBPACK_IMPORTED_MODULE_2__.gsap.to( elem, {\n          x: () => origPolyPoints[index].x,\n          y: () => origPolyPoints[index].y,\n          duration: .5,\n          overwrite: true\n        });\n      })\n    });\n  }\n\n  document.querySelector('.home-hero').appendChild(app.view);\n  \n}\n\n\n\n\n//# sourceURL=webpack://artemis2021/./js/src/home/home-hero.js?");

/***/ })

}]);